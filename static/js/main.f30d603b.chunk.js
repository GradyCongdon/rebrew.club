(this["webpackJsonprebew.club"]=this["webpackJsonprebew.club"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(7),i=s.n(a),r=(s(13),s(2)),l=function(e,t){var s=parseInt(t.currentTarget.value,10)||0;return console.debug(s),s>e?function(e,t){var s=t.toString().split("").pop()||"0";return console.debug(s),parseInt(s,10)}(0,s):s},o=function(e){return e.join(" ")},u=function(e){window.scrollTo({top:e.currentTarget.getBoundingClientRect().top,behavior:"smooth"})},j=(s(14),s(0)),b=function(e){var t=e.brew,s=e.setBrew,c=e.selected,n=e.setSelected,a=e.isTicking,i=o(["brew","brew"===c?"selected":""]),r="number-".concat(t);return Object(j.jsx)("section",{className:i,children:Object(j.jsx)("button",{onClick:function(){a||(n("brew"),s(++t))},children:Object(j.jsxs)("div",{className:"text",children:[Object(j.jsx)("label",{children:"Brew"}),Object(j.jsx)("h2",{className:"count "+r,children:t})]})})})},m=(s(16),function(e){var t=e.onNew,s=e.onOld;return Object(j.jsxs)("section",{className:"controls",children:[Object(j.jsx)("button",{className:"old",onClick:s,children:Object(j.jsx)("span",{children:" past "})}),Object(j.jsx)("button",{className:"new",onClick:t,children:Object(j.jsx)("span",{children:" new "})})]})}),d=(s(17),function(e,t){return o(["f-cc",e,e===t?"active":""])}),O=function(e){var t=e.color,s=e.setColor,c=(e.selected,e.setSelected),n=o(["color"]),a=function(e){c("color"),s(e)};return Object(j.jsxs)("section",{className:n,children:[Object(j.jsx)("button",{className:d("pu-erh",t),onClick:function(){return a("pu-erh")},children:Object(j.jsx)("span",{className:"text",children:"Pu-erh"})}),Object(j.jsx)("button",{className:d("black",t),onClick:function(){return a("black")},children:Object(j.jsx)("span",{className:"text",children:"Black"})}),Object(j.jsx)("button",{className:d("oolong",t),onClick:function(){return a("oolong")},children:Object(j.jsx)("span",{className:"text",children:Object(j.jsxs)("span",{className:"olong",children:[Object(j.jsx)("span",{className:"oo",children:"Oo"}),"long"]})})}),Object(j.jsx)("button",{className:d("green",t),onClick:function(){return a("green")},children:Object(j.jsx)("span",{className:"text",children:"Green"})}),Object(j.jsx)("button",{className:d("white",t),onClick:function(){return a("white")},children:Object(j.jsx)("span",{className:"text",children:"White"})})]})},h=(s(18),function(e){var t=e.temperature,s=e.setTemperature,c=e.isCelsius,n=e.setIsCelsius,a=e.selected,i=e.setSelected,r=o(["amount-label","fahrenheit",c?"":"active"]),b=o(["amount-label","celsius",c?"active":""]),m=o(["temperature","temperature"===a?"selected":""]);return Object(j.jsxs)("section",{className:m,children:[Object(j.jsx)("input",{type:"tel",className:"input--temperature",value:t,onClick:function(e){u(e),i("temperature")},onChange:function(e){return s(l(212,e))}}),Object(j.jsx)("div",{className:"value",children:Object(j.jsx)("div",{className:"circle",children:Object(j.jsx)("h2",{className:"amount",children:t})})}),Object(j.jsxs)("div",{className:"label",children:[Object(j.jsx)("button",{className:r,onClick:function(){return n(!1)},children:"\xb0F"}),Object(j.jsx)("button",{className:b,onClick:function(){return n(!0)},children:"\xb0C"})]})]})}),x=(s(19),function(e){return((e=e<0?0:e)<10?"0".concat(e):"".concat(e)).split("").map((function(e,t){return Object(j.jsx)("h2",{className:"value",children:e},"".concat(t,"-").concat(e))}))}),p=function(e){var t=e.time,s=e.setTime,c=e.selected,n=e.setSelected,a=function(e){var t=Math.floor(e/60);return[t,e-60*t]}(t),i=Object(r.a)(a,2),b=i[0],m=i[1],d=x(b),O=x(m),h=o(["timer","minutes"===c?"selected-min":"","seconds"===c?"selected-sec":""]);return Object(j.jsxs)("section",{className:h,children:[Object(j.jsxs)("section",{className:"capsule min",children:[Object(j.jsx)("input",{type:"tel",className:"input--timer",value:b,onClick:function(e){u(e),n("minutes")},onChange:function(e){return t=l(9,e),void s(60*t+m);var t}}),Object(j.jsx)("label",{className:"label",children:"min"}),Object(j.jsx)("div",{className:"values",children:d})]}),Object(j.jsxs)("section",{className:"capsule sec",children:[Object(j.jsx)("input",{type:"tel",className:"input--timer",value:m,onClick:function(e){u(e),n("seconds")},onChange:function(e){return t=l(59,e),void s(60*b+t);var t}}),Object(j.jsx)("label",{className:"label",children:"sec"}),Object(j.jsx)("div",{className:"values",children:O})]})]})},f=(s(20),function(e){var t=e.name,s=e.setName,c=e.selected,n=e.setSelected,a="Tea"===t,i=o(["f-cc","name","name"===c?"selected":"",a?"start":""]);return Object(j.jsxs)("section",{className:i,children:[Object(j.jsx)("input",{type:"text",className:"input--text",placeholder:"Tea",value:t,onClick:function(){n("name")},onChange:function(e){var t=e.currentTarget.value;a&&(t=t.replace("Tea","")),s(t)}}),Object(j.jsx)("h1",{className:"name__name",children:t})]})}),N=(s(21),function(e){var t=e.isDone,s=e.isOut,c=e.setIsOut,n=e.setTime,a=e.lastTime,i=o(["overlay",t?"done":"",s?"out":""]);return Object(j.jsx)("div",{onClick:function(){c(!0),n(a)},className:i})}),w=(s(22),function(e){var t=e.weight,s=e.setWeight,c=e.isMass,n=e.setIsMass,a=e.selected,i=e.setSelected,r=o(["amount-label","tsp",c?"":"active"]),b=o(["amount-label","g",c?"active":""]),m=o(["weight","weight"===a?"selected":""]);return Object(j.jsxs)("section",{className:m,children:[Object(j.jsx)("input",{type:"tel",className:"input--weight",value:t,onClick:function(e){u(e),i("weight")},onChange:function(e){return s(l(99,e))}}),Object(j.jsxs)("div",{className:"diamond",children:[Object(j.jsx)("button",{className:r,onClick:function(){return n(!1)},children:"tsp"}),Object(j.jsx)("h2",{className:"value",children:t}),Object(j.jsx)("button",{className:b,onClick:function(){return n(!0)},children:"g"})]})]})}),v=(s(23),function(e){var t=e.water,s=e.setWater,c=e.isMass,n=e.setIsMass,a=e.selected,i=e.setSelected,r=o(["amount-label","oz",c?"":"active"]),b=o(["amount-label","g",c?"active":""]),m=o(["water","water"===a?"selected":""]);return Object(j.jsxs)("section",{className:m,children:[Object(j.jsx)("input",{type:"tel",className:"input--water glass",value:t,onClick:function(e){u(e),i("water")},onChange:function(e){return s(l(999,e))}}),Object(j.jsx)("div",{className:"value",children:Object(j.jsx)("div",{className:"glass",children:Object(j.jsx)("h2",{className:"amount",children:t})})}),Object(j.jsxs)("div",{className:"label",children:[Object(j.jsx)("button",{className:r,onClick:function(){return n(!1)},children:"oz"}),Object(j.jsx)("button",{className:b,onClick:function(){return n(!0)},children:"g"})]})]})}),g=s(3),S=(s(24),function(e){var t=e.brew,s=t.brewNumber,c=t.time,n=t.temperature,a=t.water,i=t.weight,r=t.temperatureUnit,l=t.waterUnit,o=t.weightUnit;return Object(j.jsxs)("div",{className:"brew-session",children:[Object(j.jsx)("span",{className:"session-brew-number",children:s}),Object(j.jsxs)("span",{className:"session-time",children:[c,Object(j.jsx)("span",{className:"unit",children:"s"})]}),Object(j.jsxs)("span",{className:"session-weight",children:[i,Object(j.jsx)("span",{className:"unit",children:o})]}),Object(j.jsxs)("span",{className:"session-temperature",children:[n,Object(j.jsxs)("span",{className:"unit",children:["\xb0",r]})]}),Object(j.jsxs)("span",{className:"session-water",children:[a,Object(j.jsx)("span",{className:"unit",children:l})]})]})}),C=(s(25),{id:1,name:"Hairy Crab",color:"oolong",brews:[{brewNumber:1,time:15,temperature:195,temperatureUnit:"\xb0F",water:120,waterUnit:"g",mass:9,massUnit:"g"},{brewNumber:2,time:30,temperature:195,temperatureUnit:"F",water:110,waterUnit:"g",mass:9,massUnit:"g"}]}),k=function(e){var t=e.session,s=t.id,c=t.name,n=t.color,a=t.brews,i=s.toString().padStart(3,"0"),r=a.map((function(e){return Object(j.jsx)(S,{brew:e},"".concat(i,"-").concat(e.brewNumber))}));return Object(j.jsxs)("article",{className:"tea-session",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{className:"name",children:"Tea"===c?Object(j.jsx)("span",{className:"mystery",children:"???"}):c}),n?"-":null," ",n]}),Object(j.jsxs)("span",{className:"id",children:[Object(j.jsx)("span",{className:"light",children:"("}),i,Object(j.jsx)("span",{className:"light",children:")"})]})]}),Object(j.jsxs)("div",{className:"labels",children:[Object(j.jsx)("span",{className:"labels-brew-number",children:"brew"}),Object(j.jsx)("span",{children:"time"}),Object(j.jsx)("span",{children:"weight"}),Object(j.jsx)("span",{children:"temperature"}),Object(j.jsx)("span",{children:"water"})]}),r]})},T=(s(8),"sessions"),y=[{id:1,name:"",color:"",brews:[]}];function I(){var e=JSON.stringify(y);return localStorage.setItem(T,e),e}function U(){var e=localStorage.getItem(T)||I();return JSON.parse(e)}function M(e){var t=JSON.stringify(e);return localStorage.setItem(T,t),e}function B(e){var t=U(),s=function(e){var t,s=U(),c=e.id-1;return(null===(t=s[c])||void 0===t?void 0:t.brews)||[]}(e),c=Object(g.a)(Object(g.a)({},e),{},{brews:s});t[e.id-1]=c;var n=JSON.stringify(t);return localStorage.setItem(T,n),c}Object(g.a)(Object(g.a)({},C),{},{id:2,name:"Mao Feng",color:"black"});var F=function(e){var t=e.onBack,s=U().sort((function(e,t){return t.id-e.id})).map((function(e){return Object(j.jsx)(k,{session:e},e.id)}));return Object(j.jsxs)("article",{className:"history",children:[Object(j.jsx)("section",{className:"controls",children:Object(j.jsx)("button",{className:"back",onClick:t,children:Object(j.jsx)("span",{children:" now "})})}),Object(j.jsx)("div",{className:"gap"}),Object(j.jsx)("section",{className:"sessions",children:s})]})},J=(s(26),function(){var e=localStorage.getItem(T)||I();return JSON.parse(e).pop()}()),W=J.brews[J.brews.length-1]||{};var D=function(){var e=Object(c.useState)(J.id),t=Object(r.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(J.name||"Tea"),i=Object(r.a)(a,2),l=i[0],u=i[1],d=Object(c.useState)(J.color||""),x=Object(r.a)(d,2),g=x[0],S=x[1],C=Object(c.useState)(W.brewNumber||0),k=Object(r.a)(C,2),T=k[0],y=k[1],I=Object(c.useState)(W.temperature||0),D=Object(r.a)(I,2),E=D[0],z=D[1],P=Object(c.useState)("C"===W.temperatureUnit),L=Object(r.a)(P,2),_=L[0],G=L[1],H=Object(c.useState)(W.weight||0),R=Object(r.a)(H,2),q=R[0],A=R[1],K=Object(c.useState)("g"===W.weightUnit),Q=Object(r.a)(K,2),V=Q[0],X=Q[1],Y=Object(c.useState)(W.water||0),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1],te=Object(c.useState)("g"===W.waterUnit),se=Object(r.a)(te,2),ce=se[0],ne=se[1],ae=Object(c.useState)(W.time||15),ie=Object(r.a)(ae,2),re=ie[0],le=ie[1],oe=Object(c.useState)(re),ue=Object(r.a)(oe,2),je=ue[0],be=ue[1],me=Object(c.useState)("main"),de=Object(r.a)(me,2),Oe=de[0],he=de[1],xe=Object(c.useState)(""),pe=Object(r.a)(xe,2),fe=pe[0],Ne=pe[1],we=Object(c.useState)(!0),ve=Object(r.a)(we,2),ge=ve[0],Se=(ve[1],Object(c.useState)(!1)),Ce=Object(r.a)(Se,2),ke=Ce[0],Te=Ce[1],ye=Object(c.useState)(!1),Ie=Object(r.a)(ye,2),Ue=Ie[0],Me=Ie[1],Be=Object(c.useState)(!1),Fe=Object(r.a)(Be,2),Je=Fe[0],We=Fe[1],De={brewNumber:T,time:je,temperature:E,weight:q,water:$,temperatureUnit:_?"C":"F",waterUnit:ce?"g":"oz",weightUnit:V?"g":"tsp"},Ee={id:s,name:l,color:g},ze=function(e){return Te(!ke),Me(!1),We(!1),ge&&be(re+15),y(e)};Object(c.useEffect)((function(){if(!ke)return function(){};var e=setTimeout((function(){le(re-1),re<=0&&(Te(!1),Me(!0),le(0))}),1e3);return function(){clearTimeout(e)}}),[ke,re]),Object(c.useEffect)((function(){Ue&&Je&&setTimeout((function(){Me(!1),Ne("overlay")}),200)}),[Ue,Je]),Object(c.useEffect)((function(){0!==T&&(B(Ee),function(e,t){var s=U(),c=e.id-1,n=s[c],a=t.brewNumber-1;n.brews[a]=t,s[c]=n,M(s)}(Ee,De))}),[T]);var Pe=o(["main",window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")?"pwa":"",fe?"selecting":""]);return"history"===Oe?Object(j.jsxs)("main",{children:[Object(j.jsx)(F,{onBack:function(){he("main")}}),Object(j.jsx)(N,{isDone:Ue,isOut:Je,setIsOut:We,setTime:le,lastTime:je})]}):Object(j.jsxs)("main",{children:[Object(j.jsxs)("article",{className:Pe,children:[Object(j.jsx)(m,{onOld:function(){he("history")},onNew:function(){u("Tea"),S(""),Ne(""),ze(0),ee(0),z(0),A(0),le(ge?15:0),Me(!1),Te(!1),We(!1),n(s+1)}}),Object(j.jsx)(f,{selected:fe,setSelected:Ne,name:l,setName:u}),Object(j.jsx)(h,{selected:fe,setSelected:Ne,temperature:E,setTemperature:z,isCelsius:_,setIsCelsius:G}),Object(j.jsx)(O,{selected:fe,setSelected:Ne,color:g,setColor:S}),Object(j.jsx)(w,{selected:fe,setSelected:Ne,weight:q,setWeight:A,isMass:V,setIsMass:X}),Object(j.jsx)(v,{selected:fe,setSelected:Ne,water:$,setWater:ee,isMass:ce,setIsMass:ne}),Object(j.jsx)(p,{selected:fe,setSelected:Ne,time:re,setTime:le}),Object(j.jsx)(b,{selected:fe,setSelected:Ne,isTicking:ke,brew:T,setBrew:ze}),Object(j.jsx)("div",{className:"sip",children:"sip"})]}),Object(j.jsx)(N,{isDone:Ue,isOut:Je,setIsOut:We,setTime:le,lastTime:je})]})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root")),E()}],[[27,1,2]]]);
//# sourceMappingURL=main.f30d603b.chunk.js.map