(this["webpackJsonprebew.club"]=this["webpackJsonprebew.club"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(7),i=s.n(a),r=(s(13),s(2)),l=function(e,t){var s=parseInt(t.currentTarget.value,10)||0;return console.debug(s),s>e?function(e,t){var s=t.toString().split("").pop()||"0";return console.debug(s),parseInt(s,10)}(0,s):s},o=function(e){return e.join(" ")},u=function(e){window.scrollTo({top:e.currentTarget.getBoundingClientRect().top,behavior:"smooth"})},j=(s(14),s(0)),b=function(e){var t=e.brew,s=e.setBrew,c=e.selected,n=e.setSelected,a=e.isTicking,i=o(["brew","brew"===c?"selected":""]),r="number-".concat(t);return Object(j.jsx)("section",{className:i,children:Object(j.jsx)("button",{onClick:function(){a||(n("brew"),s(++t))},children:Object(j.jsxs)("div",{className:"text",children:[Object(j.jsx)("label",{children:"Brew"}),Object(j.jsx)("h2",{className:"count "+r,children:t})]})})})},m=(s(16),function(e){var t=e.onNew,s=e.onOld;return Object(j.jsxs)("section",{className:"controls",children:[Object(j.jsx)("button",{className:"old",onClick:s,children:Object(j.jsx)("span",{children:" past "})}),Object(j.jsx)("button",{className:"new",onClick:t,children:Object(j.jsx)("span",{children:" new "})})]})}),d=(s(17),function(e,t){return o(["f-cc",e,e===t?"active":""])}),O=function(e){var t=e.color,s=e.setColor,c=(e.selected,e.setSelected),n=o(["color"]),a=function(e){c("color"),s(e)};return Object(j.jsxs)("section",{className:n,children:[Object(j.jsx)("button",{className:d("pu-erh",t),onClick:function(){return a("pu-erh")},children:Object(j.jsx)("span",{className:"text",children:"Pu-erh"})}),Object(j.jsx)("button",{className:d("black",t),onClick:function(){return a("black")},children:Object(j.jsx)("span",{className:"text",children:"Black"})}),Object(j.jsx)("button",{className:d("oolong",t),onClick:function(){return a("oolong")},children:Object(j.jsx)("span",{className:"text",children:Object(j.jsxs)("span",{className:"olong",children:[Object(j.jsx)("span",{className:"oo",children:"Oo"}),"long"]})})}),Object(j.jsx)("button",{className:d("green",t),onClick:function(){return a("green")},children:Object(j.jsx)("span",{className:"text",children:"Green"})}),Object(j.jsx)("button",{className:d("white",t),onClick:function(){return a("white")},children:Object(j.jsx)("span",{className:"text",children:"White"})})]})},h=(s(18),function(e){var t=e.temperature,s=e.setTemperature,c=e.isCelsius,n=e.setIsCelsius,a=e.selected,i=e.setSelected,r=o(["amount-label","fahrenheit",c?"":"active"]),b=o(["amount-label","celsius",c?"active":""]),m=o(["temperature","temperature"===a?"selected":""]);return Object(j.jsxs)("section",{className:m,children:[Object(j.jsx)("input",{type:"tel",className:"input--temperature",value:t,onClick:function(e){u(e),i("temperature")},onChange:function(e){return s(l(212,e))}}),Object(j.jsx)("div",{className:"value",children:Object(j.jsx)("div",{className:"circle",children:Object(j.jsx)("h2",{className:"amount",children:t})})}),Object(j.jsxs)("div",{className:"label",children:[Object(j.jsx)("button",{className:r,onClick:function(){return n(!1)},children:"\xb0F"}),Object(j.jsx)("button",{className:b,onClick:function(){return n(!0)},children:"\xb0C"})]})]})}),x=(s(19),function(e){return((e=e<0?0:e)<10?"0".concat(e):"".concat(e)).split("").map((function(e,t){return Object(j.jsx)("h2",{className:"value",children:e},"".concat(t,"-").concat(e))}))}),f=function(e){var t=e.time,s=e.setTime,c=e.selected,n=e.setSelected,a=function(e){var t=Math.floor(e/60);return[t,e-60*t]}(t),i=Object(r.a)(a,2),b=i[0],m=i[1],d=x(b),O=x(m),h=o(["timer","minutes"===c?"selected-min":"","seconds"===c?"selected-sec":""]);return Object(j.jsxs)("section",{className:h,children:[Object(j.jsxs)("section",{className:"capsule min",children:[Object(j.jsx)("input",{type:"tel",className:"input--timer",value:b,onClick:function(e){u(e),n("minutes")},onChange:function(e){return t=l(9,e),void s(60*t+m);var t}}),Object(j.jsx)("label",{className:"label",children:"min"}),Object(j.jsx)("div",{className:"values",children:d})]}),Object(j.jsxs)("section",{className:"capsule sec",children:[Object(j.jsx)("input",{type:"tel",className:"input--timer",value:m,onClick:function(e){u(e),n("seconds")},onChange:function(e){return t=l(59,e),void s(60*b+t);var t}}),Object(j.jsx)("label",{className:"label",children:"sec"}),Object(j.jsx)("div",{className:"values",children:O})]})]})},p=(s(20),function(e){var t=e.name,s=e.setName,n=e.selected,a=e.setSelected,i=Object(c.useState)(!0),l=Object(r.a)(i,2),u=l[0],b=l[1],m=o(["f-cc","name","name"===n?"selected":"",u?"start":""]);return Object(j.jsxs)("section",{className:m,children:[Object(j.jsx)("input",{type:"text",className:"input--text",placeholder:"Tea",value:t,onClick:function(){a("name")},onChange:function(e){var t=e.currentTarget.value;u&&(b(!1),t=t.replace("Tea","")),s(t)}}),Object(j.jsx)("h1",{className:"name__name",children:t})]})}),N=(s(21),function(e){var t=e.isDone,s=e.isOut,c=e.setIsOut,n=e.setTime,a=e.lastTime,i=o(["overlay",t?"done":"",s?"out":""]);return Object(j.jsx)("div",{onClick:function(){c(!0),n(a)},className:i})}),w=(s(22),function(e){var t=e.weight,s=e.setWeight,c=e.isMass,n=e.setIsMass,a=e.selected,i=e.setSelected,r=o(["amount-label","tsp",c?"":"active"]),b=o(["amount-label","g",c?"active":""]),m=o(["weight","weight"===a?"selected":""]);return Object(j.jsxs)("section",{className:m,children:[Object(j.jsx)("input",{type:"tel",className:"input--weight",value:t,onClick:function(e){u(e),i("weight")},onChange:function(e){return s(l(99,e))}}),Object(j.jsxs)("div",{className:"diamond",children:[Object(j.jsx)("button",{className:r,onClick:function(){return n(!1)},children:"tsp"}),Object(j.jsx)("h2",{className:"value",children:t}),Object(j.jsx)("button",{className:b,onClick:function(){return n(!0)},children:"g"})]})]})}),v=(s(23),function(e){var t=e.water,s=e.setWater,c=e.isMass,n=e.setIsMass,a=e.selected,i=e.setSelected,r=o(["amount-label","oz",c?"":"active"]),b=o(["amount-label","g",c?"active":""]),m=o(["water","water"===a?"selected":""]);return Object(j.jsxs)("section",{className:m,children:[Object(j.jsx)("input",{type:"tel",className:"input--water glass",value:t,onClick:function(e){u(e),i("water")},onChange:function(e){return s(l(999,e))}}),Object(j.jsx)("div",{className:"value",children:Object(j.jsx)("div",{className:"glass",children:Object(j.jsx)("h2",{className:"amount",children:t})})}),Object(j.jsxs)("div",{className:"label",children:[Object(j.jsx)("button",{className:r,onClick:function(){return n(!1)},children:"oz"}),Object(j.jsx)("button",{className:b,onClick:function(){return n(!0)},children:"g"})]})]})}),g=s(3),S=(s(24),function(e){var t=e.brew,s=t.brewNumber,c=t.time,n=t.temperature,a=t.water,i=t.weight,r=t.temperatureUnit,l=t.waterUnit,o=t.weightUnit;return Object(j.jsxs)("div",{className:"brew-session",children:[Object(j.jsx)("span",{className:"session-brew-number",children:s}),Object(j.jsxs)("span",{className:"session-time",children:[c,"s"]}),Object(j.jsxs)("span",{className:"session-weight",children:[i,o]}),Object(j.jsxs)("span",{className:"session-temperature",children:[n,"\xb0",r]}),Object(j.jsxs)("span",{className:"session-water",children:[a,l]})]})}),C=(s(25),{id:1,name:"Hairy Crab",color:"oolong",brews:[{brewNumber:1,time:15,temperature:195,temperatureUnit:"\xb0F",water:120,waterUnit:"g",mass:9,massUnit:"g"},{brewNumber:2,time:30,temperature:195,temperatureUnit:"F",water:110,waterUnit:"g",mass:9,massUnit:"g"}]}),k=function(e){var t=e.session,s=t.id,c=t.name,n=t.color,a=t.brews,i=s.toString().padStart(3,"0"),r=a.map((function(e){return Object(j.jsx)(S,{brew:e},"".concat(i,"-").concat(e.brewNumber))}));return Object(j.jsxs)("article",{className:"tea-session",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{className:"name",children:c}),"- ",n]}),Object(j.jsxs)("span",{className:"id",children:["(",i,")"]})]}),Object(j.jsxs)("div",{className:"labels",children:[Object(j.jsx)("span",{className:"labels-brew-number",children:"brew"}),Object(j.jsx)("span",{children:"time"}),Object(j.jsx)("span",{children:"weight"}),Object(j.jsx)("span",{children:"temperature"}),Object(j.jsx)("span",{children:"water"})]}),r]})},T=s(8),y="sessions",I=[{id:1,name:"",color:"",brews:[]}];function U(){var e=localStorage.getItem(y)||function(){var e=JSON.stringify(I);return localStorage.setItem(y,e),e}();return JSON.parse(e)}function M(e){var t=JSON.stringify(e);return localStorage.setItem(y,t),e}function B(e){var t=U(),s=function(e){var t=U(),s=e.id-1;return t[s].brews}(e),c=Object(g.a)(Object(g.a)({},e),{},{brews:s});t[e.id-1]=c;var n=JSON.stringify(t);return localStorage.setItem(y,n),c}Object(g.a)(Object(g.a)({},C),{},{id:2,name:"Mao Feng",color:"black"});var F=function(e){var t=e.onBack,s=U().map((function(e){return Object(j.jsx)(k,{session:e},e.id)}));return Object(j.jsxs)("article",{className:"history",children:[Object(j.jsx)("section",{className:"controls",children:Object(j.jsx)("button",{className:"back",onClick:t,children:Object(j.jsx)("span",{children:" now "})})}),Object(j.jsx)("div",{className:"gap"}),Object(j.jsx)("section",{className:"sessions",children:s})]})},J=(s(26),U()[0]),W=J.brews[J.brews.length-1]||{};var D=function(){var e=Object(c.useState)(J.id),t=Object(r.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(J.name||"Tea"),i=Object(r.a)(a,2),l=i[0],u=i[1],d=Object(c.useState)(J.color||""),x=Object(r.a)(d,2),S=x[0],C=x[1],k=Object(c.useState)(W.brewNumber||0),y=Object(r.a)(k,2),I=y[0],D=y[1],E=Object(c.useState)(W.temperature||0),z=Object(r.a)(E,2),P=z[0],L=z[1],_=Object(c.useState)("C"===W.temperatureUnit),G=Object(r.a)(_,2),H=G[0],R=G[1],q=Object(c.useState)(W.weight||0),A=Object(r.a)(q,2),K=A[0],Q=A[1],V=Object(c.useState)("g"===W.weightUnit),X=Object(r.a)(V,2),Y=X[0],Z=X[1],$=Object(c.useState)(W.water||0),ee=Object(r.a)($,2),te=ee[0],se=ee[1],ce=Object(c.useState)("g"===W.waterUnit),ne=Object(r.a)(ce,2),ae=ne[0],ie=ne[1],re=Object(c.useState)(W.time||15),le=Object(r.a)(re,2),oe=le[0],ue=le[1],je=Object(c.useState)(oe),be=Object(r.a)(je,2),me=be[0],de=be[1],Oe=Object(c.useState)("main"),he=Object(r.a)(Oe,2),xe=he[0],fe=he[1],pe=Object(c.useState)(""),Ne=Object(r.a)(pe,2),we=Ne[0],ve=Ne[1],ge=Object(c.useState)(!0),Se=Object(r.a)(ge,2),Ce=Se[0],ke=(Se[1],Object(c.useState)(!1)),Te=Object(r.a)(ke,2),ye=Te[0],Ie=Te[1],Ue=Object(c.useState)(!1),Me=Object(r.a)(Ue,2),Be=Me[0],Fe=Me[1],Je=Object(c.useState)(!1),We=Object(r.a)(Je,2),De=We[0],Ee=We[1],ze={brewNumber:I,time:me,temperature:P,weight:K,water:te,temperatureUnit:H?"C":"F",waterUnit:ae?"g":"oz",weightUnit:Y?"g":"tsp"},Pe={id:s,name:l,color:S},Le=function(e){return Ie(!ye),Fe(!1),Ee(!1),Ce&&de(oe+15),D(e)};Object(c.useEffect)((function(){if(!ye)return function(){};var e=setTimeout((function(){ue(oe-1),oe<=0&&(Ie(!1),Fe(!0),ue(0))}),1e3);return function(){clearTimeout(e)}}),[ye,oe]),Object(c.useEffect)((function(){Be&&De&&setTimeout((function(){Fe(!1),ve("overlay")}),200)}),[Be,De]),Object(c.useEffect)((function(){1===s&&0===I||(0===I?function(e){var t=U();M([Object(g.a)(Object(g.a)({},e),{},{brews:[]})].concat(Object(T.a)(t)))}(Pe):(B(Pe),function(e,t){var s=U(),c=e.id-1,n=s[c],a=t.brewNumber-1;n.brews[a]=t,s[c]=n,M(s)}(Pe,ze)))}),[s,I]);var _e=o(["main",window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")?"pwa":"",we?"selecting":""]);return"history"===xe?Object(j.jsxs)("main",{children:[Object(j.jsx)(F,{onBack:function(){fe("main")}}),Object(j.jsx)(N,{isDone:Be,isOut:De,setIsOut:Ee,setTime:ue,lastTime:me})]}):Object(j.jsxs)("main",{children:[Object(j.jsxs)("article",{className:_e,children:[Object(j.jsx)(m,{onOld:function(){fe("history")},onNew:function(){u("Tea"),C(""),ve(""),Le(0),se(0),L(0),Q(0),ue(Ce?15:0),Fe(!1),Ie(!1),Ee(!1),n(s+1)}}),Object(j.jsx)(p,{selected:we,setSelected:ve,name:l,setName:u}),Object(j.jsx)(h,{selected:we,setSelected:ve,temperature:P,setTemperature:L,isCelsius:H,setIsCelsius:R}),Object(j.jsx)(O,{selected:we,setSelected:ve,color:S,setColor:C}),Object(j.jsx)(w,{selected:we,setSelected:ve,weight:K,setWeight:Q,isMass:Y,setIsMass:Z}),Object(j.jsx)(v,{selected:we,setSelected:ve,water:te,setWater:se,isMass:ae,setIsMass:ie}),Object(j.jsx)(f,{selected:we,setSelected:ve,time:oe,setTime:ue}),Object(j.jsx)(b,{selected:we,setSelected:ve,isTicking:ye,brew:I,setBrew:Le})]}),Object(j.jsx)(N,{isDone:Be,isOut:De,setIsOut:Ee,setTime:ue,lastTime:me})]})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root")),E()}],[[27,1,2]]]);
//# sourceMappingURL=main.daaafb24.chunk.js.map